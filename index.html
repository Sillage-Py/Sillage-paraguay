<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sillage - Exclusive Collection</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #0a0a0a; color: #e5e5e5; scroll-behavior: smooth; }
        .font-serif { font-family: 'Playfair Display', serif; }
        .gold-text { color: #d4af37; }
        .glass-header { background: rgba(10, 10, 10, 0.95); backdrop-filter: blur(15px); border-bottom: 1px solid #262626; }
        
        .card-premium { background: #171717; border: 1px solid #262626; transition: all 0.3s ease; position: relative; border-radius: 2rem; }
        
        /* Estilo para los botones de tamaÃ±o */
        .size-btn { 
            border: 1px solid #333; 
            background: #111; 
            padding: 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 700;
            color: #888;
            transition: all 0.2s ease;
        }
        .size-btn.active { 
            border-color: #d4af37; 
            background: rgba(212, 175, 55, 0.1); 
            color: #d4af37;
        }

        /* Cuadro de Feromonas */
        .fero-box {
            border: 1px dashed #444;
            background: rgba(255, 255, 255, 0.02);
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .fero-box.active {
            border: 1px solid #d4af37;
            background: rgba(212, 175, 55, 0.05);
        }

        .details-content { max-height: 0; overflow: hidden; transition: all 0.4s ease; opacity: 0; }
        .active-content { max-height: 500px; opacity: 1; padding-top: 1rem; }
        
        .btn-wa { background: linear-gradient(135deg, #25D366 0%, #128C7E 100%); }
        
        /* Checkbox custom */
        .custom-check {
            width: 20px;
            height: 20px;
            border: 2px solid #444;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }
        .fero-box.active .custom-check {
            background: #d4af37;
            border-color: #d4af37;
        }
    </style>
</head>
<body class="pb-40">

    <header class="glass-header sticky top-0 z-50">
        <div class="max-w-4xl mx-auto px-6 py-6 flex flex-col items-center text-center">
            <h1 class="text-4xl font-serif font-bold gold-text uppercase">SILLAGE</h1>
            <p class="text-[8px] tracking-[0.4em] text-stone-500 font-bold mb-6 italic">Paraguay Â· Luxury Inspiration</p>
            
            <div class="flex gap-2">
                <button onclick="filter('Todos')" id="filter-Todos" class="px-5 py-2 rounded-full text-[10px] font-black bg-white text-black transition-all">TODOS</button>
                <button onclick="filter('Damas')" id="filter-Damas" class="px-5 py-2 rounded-full text-[10px] font-black border border-stone-800 text-stone-500 transition-all">DAMAS</button>
                <button onclick="filter('Caballeros')" id="filter-Caballeros" class="px-5 py-2 rounded-full text-[10px] font-black border border-stone-800 text-stone-500 transition-all">CABALLEROS</button>
            </div>
        </div>
    </header>

    <main id="catalog" class="max-w-3xl mx-auto px-4 py-8 space-y-10">
        <!-- Contenido dinÃ¡mico -->
    </main>

    <!-- BARRA DE COMPRA -->
    <div id="cart-bar" class="fixed bottom-0 left-0 right-0 bg-[#111] border-t border-stone-800 p-6 transform translate-y-full transition-all duration-500 z-[100] rounded-t-[2.5rem]">
        <div class="max-w-3xl mx-auto flex items-center justify-between">
            <div>
                <span id="cart-count" class="text-[9px] font-black gold-text uppercase block mb-1">Tu selecciÃ³n</span>
                <span id="cart-total" class="text-2xl font-serif font-bold text-white tracking-tighter text-3xl">Gs. 0</span>
            </div>
            <button onclick="sendBulkWa()" class="btn-wa text-white px-8 py-4 rounded-2xl text-[10px] font-black uppercase tracking-widest active:scale-95 shadow-lg">
                Finalizar Pedido
            </button>
        </div>
    </div>

    <script>
        const ADITIVO_PRECIO = 20000;

        const perfumes = [
            {
                id: 1,
                nombre: "Sillage No. 5",
                inspiracion: "Chanel No. 5",
                familia: "Floral AldehÃ­dico",
                precios: { "50ml": 85000, "100ml": 155000 },
                cat: "Damas",
                img: "https://images.unsplash.com/photo-1541643600914-78b084683601?w=800",
                descripcion: "Un Ã­cono de sofisticaciÃ³n absoluta con notas de jazmÃ­n y rosa de Grasse."
            },
            {
                id: 2,
                nombre: "Sillage Salvaje",
                inspiracion: "Sauvage de Dior",
                familia: "FougÃ¨re AromÃ¡tica",
                precios: { "50ml": 95000, "100ml": 175000 },
                cat: "Caballeros",
                img: "https://images.unsplash.com/photo-1594035910387-fea47794261f?w=800",
                descripcion: "Una composiciÃ³n poderosamente fresca, cruda y noble a la vez."
            }
        ];

        // Estado local del catÃ¡logo (quÃ© tiene seleccionado cada producto)
        // Estructura: { id_producto: { size: '50ml', fero: false, qty: 0 } }
        let state = {};

        // Inicializar estado
        perfumes.forEach(p => {
            state[p.id] = { size: '50ml', fero: false, qty: 0 };
        });

        function formatGs(n) { return "Gs. " + n.toLocaleString('es-PY'); }

        function setSize(id, size) {
            state[id].size = size;
            render();
            updateCartUI();
        }

        function toggleFero(id) {
            state[id].fero = !state[id].fero;
            render();
            updateCartUI();
        }

        function changeQty(id, delta) {
            state[id].qty = Math.max(0, state[id].qty + delta);
            render();
            updateCartUI();
        }

        function updateCartUI() {
            let total = 0;
            let count = 0;
            Object.keys(state).forEach(id => {
                const s = state[id];
                if (s.qty > 0) {
                    const p = perfumes.find(x => x.id == id);
                    const base = p.precios[s.size];
                    const final = s.fero ? base + ADITIVO_PRECIO : base;
                    total += final * s.qty;
                    count += s.qty;
                }
            });

            const bar = document.getElementById('cart-bar');
            if (count > 0) {
                bar.classList.remove('translate-y-full');
                document.getElementById('cart-total').innerText = formatGs(total);
                document.getElementById('cart-count').innerText = `${count} FRASCOS SELECCIONADOS`;
            } else {
                bar.classList.add('translate-y-full');
            }
        }

        function render() {
            const container = document.getElementById('catalog');
            container.innerHTML = '';
            
            const list = perfumes.filter(p => currentFilter === 'Todos' || p.cat === currentFilter);

            list.forEach(p => {
                const s = state[p.id];
                const precioActual = s.fero ? p.precios[s.size] + ADITIVO_PRECIO : p.precios[s.size];

                container.innerHTML += `
                    <div class="card-premium overflow-hidden group border ${s.qty > 0 ? 'border-stone-600' : 'border-stone-900'}">
                        <div class="flex flex-col md:flex-row">
                            <!-- Imagen -->
                            <div class="md:w-64 h-64 md:h-auto bg-stone-900 relative overflow-hidden">
                                <img src="${p.img}" class="w-full h-full object-cover opacity-60 group-hover:scale-105 transition-transform duration-700">
                                <div class="absolute inset-0 bg-gradient-to-t from-[#171717] via-transparent to-transparent"></div>
                            </div>

                            <!-- Contenido -->
                            <div class="p-8 flex-grow">
                                <span class="text-[10px] gold-text font-black uppercase tracking-widest">${p.familia}</span>
                                <h3 class="text-3xl font-serif font-bold text-white mt-1">${p.nombre}</h3>
                                <p class="text-[11px] text-stone-500 italic mb-6">Inspirado en ${p.inspiracion}</p>
                                
                                <div class="space-y-6">
                                    <!-- Selector de TamaÃ±o -->
                                    <div class="flex gap-3">
                                        <button onclick="setSize(${p.id}, '50ml')" class="size-btn flex-1 ${s.size === '50ml' ? 'active' : ''}">
                                            50ML
                                            <div class="text-[9px] font-normal opacity-80 mt-1">${formatGs(p.precios['50ml'])}</div>
                                        </button>
                                        <button onclick="setSize(${p.id}, '100ml')" class="size-btn flex-1 ${s.size === '100ml' ? 'active' : ''}">
                                            100ML
                                            <div class="text-[9px] font-normal opacity-80 mt-1">${formatGs(p.precios['100ml'])}</div>
                                        </button>
                                    </div>

                                    <!-- Cuadro de Feromonas Mejorado -->
                                    <div onclick="toggleFero(${p.id})" class="fero-box p-4 rounded-2xl flex items-center justify-between ${s.fero ? 'active' : ''}">
                                        <div class="flex items-center gap-4">
                                            <div class="custom-check">
                                                ${s.fero ? '<svg class="w-3 h-3 text-black" fill="currentColor" viewBox="0 0 20 20"><path d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"></path></svg>' : ''}
                                            </div>
                                            <div>
                                                <p class="text-[11px] font-black uppercase tracking-wider ${s.fero ? 'gold-text' : 'text-stone-300'}">Potenciar con Feromonas</p>
                                                <p class="text-[9px] text-stone-500">Aumenta tu magnetismo por +${formatGs(ADITIVO_PRECIO)}</p>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Precio y AcciÃ³n -->
                                    <div class="flex items-center justify-between pt-4 border-t border-stone-800">
                                        <div>
                                            <p class="text-[9px] text-stone-500 uppercase font-bold tracking-widest">Total Fragancia</p>
                                            <p class="text-xl font-serif font-bold text-white">${formatGs(precioActual)}</p>
                                        </div>
                                        
                                        ${s.qty === 0 ? `
                                            <button onclick="changeQty(${p.id}, 1)" class="bg-white text-black px-6 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-stone-200 transition-colors">
                                                Agregar
                                            </button>
                                        ` : `
                                            <div class="flex items-center gap-4 bg-stone-900 p-2 rounded-xl border border-stone-800">
                                                <button onclick="changeQty(${p.id}, -1)" class="w-8 h-8 flex items-center justify-center text-stone-400 hover:text-white font-bold">-</button>
                                                <span class="text-xs font-bold text-white w-4 text-center">${s.qty}</span>
                                                <button onclick="changeQty(${p.id}, 1)" class="w-8 h-8 flex items-center justify-center text-stone-400 hover:text-white font-bold">+</button>
                                            </div>
                                        `}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            });
        }

        let currentFilter = 'Todos';
        function filter(c) {
            currentFilter = c;
            render();
            document.querySelectorAll('header button').forEach(b => {
                b.className = "px-5 py-2 rounded-full text-[10px] font-black border border-stone-800 text-stone-500 transition-all";
            });
            document.getElementById(`filter-${c}`).className = "px-5 py-2 rounded-full text-[10px] font-black bg-white text-black transition-all";
        }

        function sendBulkWa() {
            let msg = "Â¡Hola Sillage! ðŸ‡µðŸ‡¾ Quiero realizar un pedido:\n\n";
            let total = 0;
            Object.keys(state).forEach(id => {
                const s = state[id];
                if (s.qty > 0) {
                    const p = perfumes.find(x => x.id == id);
                    const base = p.precios[s.size];
                    const final = s.fero ? base + ADITIVO_PRECIO : base;
                    const sub = final * s.qty;
                    
                    msg += `ðŸ”¹ *${p.nombre}* (${s.size})\n`;
                    msg += `   Cant: ${s.qty} | ${s.fero ? 'ðŸ”¥ Con Feromonas' : 'âœ¨ EstÃ¡ndar'}\n`;
                    msg += `   Subtotal: ${formatGs(sub)}\n\n`;
                    total += sub;
                }
            });
            msg += `*Total del Pedido: ${formatGs(total)}*`;
            window.open(`https://wa.me/595981000000?text=${encodeURIComponent(msg)}`, '_blank');
        }

        render();
    </script>
</body>
</html>
